DONE - add encode/decode loop test before z80asm (to check encode/decode
 consistent)

- need to ignore DD/FD before ED
  - encode+decode

- DD CB
  - need to resolve before z80asm tests

- have autotests run z80asm/z80dasm and compare
  - "make" a table?

- might have displacement byte in the wrong place for CB-prefix:
  "These instructions have the following format:
    DD or FD prefix,  CB,  displacement byte,  opcode"
  - check by hand against z80asm

- add tests (and then support) for DDCD and FDCB
  - note *mandatory displacement* before instruction

- make IN/OUT use a Loc16 (BC) instead of (C) internally for Execute()

- check DD ED sequencing

DONE - add encode tests (driven by 'all' table)

DONE - consider have unary/binary embeddable instruction bases
  - encode helper can examine loc for IX etc
    - also need to encode displacement!
  - or just helper method?
    - take optional src + dst (or nil)


- add round trip tests
  - string -> assemble2instruction -> encode2bytes-> decode2instruction -> .String()2string
  - we'll need to handle non-injective maps (bytes -> string?)
  - needed to help trap the indexed CB prefix bug (displacement in wrong place)

- panic on write to imm8

- assembler needs Encode() on Instruction
  - drive via same all tests
  - or as part of decode test loop?
    buf -> inst         ; decode
    inst -> string      ; disass
    string -> inst      ; ass
    inst -> buf         ; encode

- add cmdline disassembler
  - try on some big files
  - add (made up) labels for jump targets in disassembler

DONE - implement ED

- implement DDCB+FDCB

DONE - grab speccy book table for decode test
